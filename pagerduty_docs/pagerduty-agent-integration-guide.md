

Getting Started
---------------

* [Introduction](/main/docs/introduction)
* [Trial Account Onboarding](/main/docs/trial-account-onboarding)
* [Log In to PagerDuty](/main/docs/log-in-to-pagerduty)
* [Navigate the Incidents Page](/main/docs/navigate-the-incidents-page)
* [Best Practice Ops Guides](https://www.pagerduty.com/ops-guides/)

Incidents
---------

* [Incidents](/main/docs/incidents)
  + [Edit Incidents](/main/docs/edit-incidents)
  + [Reassign Incidents](/main/docs/reassign-incidents)
  + [Incident Priority](/main/docs/incident-priority)
  + [Incident Roles](/main/docs/incident-roles)
  + [Incident Tasks](/main/docs/incident-tasks)
  + [Incident Types](/main/docs/incident-types)
  + [Custom Fields on Incidents](/main/docs/custom-fields-on-incidents)
  + [Why Incidents Fail to Trigger](/main/docs/why-incidents-fail-to-trigger)
  + [Conference Bridge](/main/docs/conference-bridge)
  + [Add Responders](/main/docs/add-responders)
  + [Event Management](/main/docs/event-management)
  + [Dynamic Notifications](/main/docs/dynamic-notifications)
  + [Communicate with Stakeholders](/main/docs/communicate-with-stakeholders)
  + [Status Update Templates](/main/docs/status-update-templates)
* [Alerts](/main/docs/alerts)
  + [Alerts Table](/main/docs/alerts-table)
* [Postmortems and Jeli Post Incident Reviews](/main/docs/postmortems)
* [Visibility Console](/main/docs/visibility-console)

Notifications
-------------

* [Notification Content and Behavior](/main/docs/notification-content-and-behavior)
  + [Push Notifications](/main/docs/push-notifications)
  + [Email Notifications](/main/docs/email-notifications)
  + [Phone Notifications](/main/docs/phone-notifications)
    - [Phone Notification Disclosures](/main/docs/phone-notification-disclosures)
  + [SMS Notifications](/main/docs/sms-notifications)
    - [SMS Notification Disclosures](/main/docs/sms-notification-disclosures)
* [Notification Troubleshooting](/main/docs/notification-troubleshooting)
  + [Expected Notification Behavior](/main/docs/expected-notification-behavior)
  + [Push Notification Troubleshooting](/main/docs/push-notification-troubleshooting)
  + [Email Notification Troubleshooting](/main/docs/email-notification-troubleshooting)
  + [Phone Notification Troubleshooting](/main/docs/phone-notification-troubleshooting)
  + [SMS Notification Troubleshooting](/main/docs/sms-notification-troubleshooting)
* [Supported Countries](/main/docs/supported-countries)
* [Notification Phone Numbers](/main/docs/notification-phone-numbers)

Services
--------

* [Services and Integrations](/main/docs/services-and-integrations)
  + [Service Directory](/main/docs/service-directory)
  + [Service Profile](/main/docs/service-profile)
  + [Business Services](/main/docs/business-services)
    - [Business Service Subscription](/main/docs/business-service-subscription)
  + [Service Graph](/main/docs/service-graph)
  + [Maintenance Windows](/main/docs/maintenance-windows)
  + [Email Management: Filters and Rules](/main/docs/email-management-filters-and-rules)
  + [Regular Expressions](/main/docs/regular-expressions)
* [Configurable Service Settings](/main/docs/configurable-service-settings)
* [Integrate PagerDuty With ITSM Tools](/main/docs/integrating-with-itsm-tools)

People
------

* [Manage Users](/main/docs/manage-users)
  + [Import Users from a CSV](/main/docs/import-users-from-a-csv)
  + [Offboarding](/main/docs/offboarding)
* [User Roles](/main/docs/user-roles)
* [Advanced Permissions](/main/docs/advanced-permissions)
* [User Profile](/main/docs/user-profile)
* [Teams](/main/docs/teams)
* [Contextual Search - Tagging](/main/docs/contextual-search)
* [Schedule Basics](/main/docs/schedule-basics)
  + [Edit Schedules](/main/docs/edit-schedules)
* [Schedule Examples](/main/docs/schedule-examples)
* [Schedules in Third-Party Apps](/main/docs/schedules-in-apps)
* [My On-Call Shifts](/main/docs/my-on-call-shifts)
* [Escalation Policy Basics](/main/docs/escalation-policies)
  + [Round Robin Scheduling](/main/docs/round-robin-scheduling)
* [Escalation Policies and Schedules](/main/docs/escalation-policies-and-schedules)

Integrations
------------

* [Amazon CloudWatch Integration Guide | PagerDuty](/main/docs/amazon-cloudwatch-integration-guide)
* [Amazon EventBridge Integration Guide | PagerDuty](/main/docs/amazon-eventbridge-integration-guide)
* [Amazon GuardDuty Integration Guide | PagerDuty](/main/docs/aws-guardduty-integration-guide)
* [AWS CloudTrail Integration Guide | PagerDuty](/main/docs/aws-cloudtrail-integration-guide)
* [AWS Health Dashboard Integration Guide | PagerDuty](/main/docs/aws-health-dashboard)
* [AWS Security Hub Integration Guide | PagerDuty](/main/docs/aws-security-hub-integration-guide-pagerduty)
* [Bitbucket Integration Guide | PagerDuty](/main/docs/bitbucket)
* [Datadog Apps Integration Guide | PagerDuty](/main/docs/datadog-apps-integration-guide)
* [Email Integration Guide | PagerDuty](/main/docs/email-integration-guide)
* [GitHub Changes Integration Guide | PagerDuty](/main/docs/github-changes)
* [GitLab Changes Integration Guide | PagerDuty](/main/docs/gitlab-changes)
* [Jenkins Changes Integration Guide | PagerDuty](/main/docs/jenkins-changes)
* [Jira Cloud Integration Guide | PagerDuty](/main/docs/jira-cloud)
  + [Jira Cloud User Guide](/main/docs/jira-cloud-user-guide)
  + [Jira Cloud Integration FAQ](/main/docs/jira-cloud-integration-faq)
  + [Jira Cloud Troubleshooting Guide](/main/docs/jira-cloud-troubleshooting-guide)
* [Jira Server Integration Guide | PagerDuty](/main/docs/jira-server)
  + [Jira Server Troubleshooting Guide](/main/docs/jira-server-troubleshooting-guide)
* [Microsoft Teams Integration Guide | PagerDuty](/main/docs/microsoft-teams)
  + [Microsoft Teams User Guide](/main/docs/microsoft-teams-user-guide)
  + [Microsoft Teams Permission Changelog](/main/docs/microsoft-teams-permission-changelog)
* [Salesforce Service Cloud Integration Guide | PagerDuty](/main/docs/salesforce-service-cloud-integration-guide)
  + [Salesforce Service Cloud User Guide](/main/docs/salesforce-service-cloud-user-guide)
  + [Salesforce Custom Field Mappings](/main/docs/salesforce-custom-field-mappings)
* [ServiceNow Integration Guide | PagerDuty](/main/docs/servicenow-integration-guide)
  + [ServiceNow Integration Details](/main/docs/servicenow-integration-details)
  + [ServiceNow User Guide](/main/docs/servicenow-user-guide)
  + [ServiceNow Provisioning](/main/docs/servicenow-provisioning)
  + [Advanced ServiceNow Configuration](/main/docs/advanced-servicenow-configuration)
  + [ServiceNow Change Requests Integration Guide](/main/docs/servicenow-change-requests-integration-guide)
  + [ServiceNow Troubleshooting Guide](/main/docs/servicenow-troubleshooting-guide)
* [ServiceNow CSM Integration Guide](/main/docs/servicenow-csm-integration-guide)
  + [ServiceNow CSM User Guide](/main/docs/servicenow-csm-user-guide)
* [Slack Integration Guide | PagerDuty](/main/docs/slack-integration-guide)
  + [Slack User Guide](/main/docs/slack-user-guide)
  + [Slack Permission Changelog](/main/docs/slack-permission-changelog)
* [Zendesk Integration Guide | PagerDuty](/main/docs/zendesk-integration-guide)
  + [Zendesk User Guide](/main/docs/zendesk-user-guide)
  + [Zendesk Custom Field Mappings](/main/docs/zendesk-custom-field-mappings)
* [Zoom Integration Guide | PagerDuty](/main/docs/zoom-integration-guide)
* [Nagios Troubleshooting Guide](/main/docs/nagios-troubleshooting-guide)
* [PagerDuty Agent Integration Guide](/main/docs/pagerduty-agent-integration-guide)
* [PagerDuty Agent Troubleshooting Guide](/main/docs/pagerduty-agent-troubleshooting-guide)
* [SolarWinds Orion Troubleshooting Guide](/main/docs/solarwinds-orion-troubleshooting-guide)
* [Zabbix Troubleshooting Guide](/main/docs/zabbix-troubleshooting-guide)
* [Extensions](/main/docs/extensions)
* [Add-ons](/main/docs/add-ons)
* [Webhooks](/main/docs/webhooks)
* [Custom Incident Actions](/main/docs/custom-incident-actions)
* [Single Sign-On (SSO)](/main/docs/sso)
* [Live Call Routing](/main/docs/live-call-routing)
* [Apps](/main/docs/apps)

Automation
----------

* [PagerDuty Automation Actions](/main/docs/automation-actions)
  + [PagerDuty Automation Trial](/main/docs/pagerduty-automation-trial)
* [Incident Workflows](/main/docs/incident-workflows)
  + [Workflow Integrations](/main/docs/workflow-integrations)
  + [Workflow Actions](https://support.pagerduty.com/actions/docs/incident-workflow-actions-overview)
* [PagerDuty Workflow Automation](https://help.catalytic.com/)
* [PagerDuty Runbook Automation](https://docs.rundeck.com/docs/)

Generative AI
-------------

* [PagerDuty Advance](/main/docs/pagerduty-advance)

AIOps
-----

* [PagerDuty AIOps](/main/docs/aiops)
  + [PagerDuty AIOps Quickstart Guide](/main/docs/pagerduty-aiops-quickstart-guide)
  + [Intelligent Alert Grouping](/main/docs/intelligent-alert-grouping)
    - [Preview Intelligent Alert Grouping](/main/docs/preview-intelligent-alert-grouping)
  + [Content-Based Alert Grouping](/main/docs/content-based-alert-grouping)
  + [Unified Alert Grouping](/main/docs/unified-alert-grouping)
  + [Global Alert Grouping](/main/docs/global-alert-grouping)
  + [Time-Based Alert Grouping](/main/docs/time-based-alert-grouping)
  + [Auto-Pause Incident Notifications](/main/docs/auto-pause-incident-notifications)
  + [Alert Suppression](https://support.pagerduty.com/docs/event-orchestration#incident-data)
  + [Past Incidents](/main/docs/past-incidents)
  + [Related Incidents](/main/docs/related-incidents)
  + [Outlier Incident](/main/docs/outlier-incident)
  + [Probable Origin](/main/docs/probable-origin)
  + [Recent Changes](/main/docs/recent-changes)
  + [Event Orchestration](/main/docs/event-orchestration)
    - [Event Orchestration Cache Variables](/main/docs/event-orchestration-cache-variables)
    - [Event Orchestration Examples](/main/docs/event-orchestration-examples)
  + [Operations Console](/main/docs/operations-console)
* [Legacy Event Intelligence](/main/docs/legacy-event-intelligence)
* [Rulesets](/main/docs/rulesets)
* [Migrate to Event Orchestration](/main/docs/migrate-to-event-orchestration)

Analytics
---------

* [Analytics Dashboard](/main/docs/analytics-dashboard)
* [Insights](/main/docs/insights)
* [Operational Reviews](/main/docs/operational-reviews)
* [On-Call Readiness Reports](/main/docs/on-call-readiness-reports)
* [Event Analytics](/main/docs/event-analytics)
* [PagerDuty Advance Analytics](/main/docs/pagerduty-advance-analytics)
* [User Onboarding Report](/main/docs/user-onboarding-report)
* [Recommendations](/main/docs/recommendations)
* [Audit Trail Reporting](/main/docs/audit-trail-reporting)
* [PagerDuty Analytics Slack Integration](/main/docs/pagerduty-analytics-slack-integration)
* [Operational Maturity](/main/docs/operational-maturity)

APIs
----

* [APIs Overview](https://developer.pagerduty.com/docs/ZG9jOjQ2NDA2-introduction)
* [API Access Keys](/main/docs/api-access-keys)
  + [REST API Rate Limits](/main/docs/rest-api-rate-limits)
* [Developer Documentation](https://v2.developer.pagerduty.com/docs)
* [API Client Libraries](https://developer.pagerduty.com/docs/tools-libraries/client-libraries/?utm_source=web&utm_campaign=kb_nav&utm_medium=link)
* [Safelist IPs](/main/docs/safelist-ips)
* [Third-Party Tools](/main/docs/third-party-tools)
  + [API Tools & Code Samples](https://developer.pagerduty.com/docs/tools-libraries/tools-projects/?utm_source=web&utm_campaign=kb_nav&utm_medium=link)

Status
------

* [Status Pages Overview](/main/docs/status-pages-overview)
* [Internal Status Page](/main/docs/internal-status-page)
* [External Status Page](/main/docs/external-status-page)
  + [Private Status Page](/main/docs/private-status-page)

Billing and Account Settings
----------------------------

* [Billing, Invoices and Payments](/main/docs/billing-invoices-payments)
  + [Form W-9](/main/docs/w-9)
  + [Vendor Form](/main/docs/vendor-form)
  + [Cancel Your Account](/main/docs/cancel-your-account)
* [Account Settings](/main/docs/account-settings)
* [Account Subdomains](/main/docs/account-subdomains)
* [Time Zone Settings](/main/docs/time-zone-settings)

Mobile App
----------

* [Training Material](https://university.pagerduty.com/page/on-demand#new-to-pagerduty_getting-started)
* [PagerDuty Mobile App](/main/docs/mobile-app)
  + [Mobile Home Screen](/main/docs/mobile-home-screen)
  + [Mobile Widgets](/main/docs/mobile-widgets)
* [Mobile App Settings](/main/docs/mobile-app-settings)
* [Use Mobile Schedules](/main/docs/use-mobile-schedules)
* [Mobile Status Dashboard](/main/docs/mobile-status-dashboard)
  + [Home Screen Status Dashboard](/main/docs/home-screen-status-dashboard)
* [MDM Setup and Supported Web Browsers](/main/docs/mdm-setup-browsers)
* [Mobile Release Notes](/main/docs/release-notes)

Platform
--------

* [What's New in PagerDuty](https://www.pagerduty.com/whats-new)
* [Platform Release Notes](/main/docs/platform-release-notes)
  + [Platform Release Notes (2023)](/main/docs/platform-release-notes-2023)
  + [Platform Release Notes (2022)](/main/docs/platform-release-notes-2022)
  + [Platform Release Notes (2021)](/main/docs/platform-release-notes-2021)
  + [Platform Release Notes (2020)](/main/docs/platform-release-notes-2020)
  + [Platform Release Notes (2019)](/main/docs/platform-release-notes-2019)
  + [Platform Release Notes (2018)](/main/docs/platform-release-notes-2018)
  + [Platform Release Notes (2017)](/main/docs/platform-release-notes-2017)
* [System Requirements](/main/docs/system-requirements)
* [Common Event Format (PD-CEF)](/main/docs/pd-cef)
* [Search](/main/docs/search)
* [PagerDuty Outage Notifications](/main/docs/pagerduty-outage-notifications)
* [Service Regions](/main/docs/service-regions)

Jeli part of PagerDuty
----------------------

* [Get Started With Jeli](/main/docs/get-started-with-jeli)
* [Jeli Incidents](/main/docs/jeli-incidents)
  + [Jeli Slackbot Commands](/main/docs/jeli-slackbot-commands)
  + [Mitigate a Jeli Incident](/main/docs/mitigate-an-incident)
* [Jeli Workflows](/main/docs/jeli-workflows)
* [Jeli Opportunities](/main/docs/opportunities)
  + [Basic Investigation Tutorial](/main/docs/basic-investigation-tutorial)
  + [Opportunity Stages](/main/docs/opportunity-stages)
  + [Opportunity Report](/main/docs/opportunity-report)
    - [Incident Review Templates](/main/docs/incident-review-templates)
    - [Opportunity Tags](/main/docs/opportunity-tags)
    - [Related Opportunities](/main/docs/related-opportunities)
    - [Narrative Builder](/main/docs/narrative-builder)
    - [Narrative Builder Tutorial](/main/docs/narrative-builder-tutorial)
    - [View Opportunity Participant Data](/main/docs/see-participant-information)
    - [Collect Action Items](/main/docs/collect-action-items)
  + [Opportunity Notes](/main/docs/opportunity-notes)
  + [Opportunity Events](/main/docs/opportunity-events)
* [Jeli Learning Center](/main/docs/learning-center)
* [View People in Jeli](/main/docs/view-people-in-jeli)
* [Jeli Settings and Integrations](/main/docs/jeli-settings-and-integrations)
  + [Entra ID Integration | Jeli](/main/docs/entra-id-integration-jeli)
  + [Google Meet Integration | Jeli](/main/docs/google-meet-integration-jeli)
  + [Jira Integration | Jeli](/main/docs/jira-integration-jeli)
  + [Nobl9 Integration | Jeli](/main/docs/nobl9-integration-jeli)
  + [Okta Integration | Jeli](/main/docs/okta-integration-jeli)
  + [Opsgenie Integration | Jeli](/main/docs/opsgenie-integration-jeli)
  + [PagerDuty Integration | Jeli](/main/docs/pagerduty-integration-jeli)
  + [ServiceNow Integration | Jeli](/main/docs/servicenow-integration-jeli)
  + [Slack Integration | Jeli](/main/docs/slack-integration-jeli)
  + [Statuspage Integration | Jeli](/main/docs/statuspage-integration-jeli)
  + [Vanta Integration | Jeli](/main/docs/vanta-integration-jeli)
  + [Zoom Integration | Jeli](/main/docs/zoom-integration-jeli)
  + [Import HR Data](/main/docs/import-hr-data)
  + [Jeli API](/main/docs/jeli-api)

Security
--------

* [PagerDuty and CISA 0-Day Vulnerability Remediation Timelines](/main/docs/pagerduty-and-cisa-0-day-vulnerability-remediation-timelines)
* [PagerDuty Log4j Zero-Day Vulnerability Updates](/main/docs/pagerduty-log4j-zero-day-vulnerability)
* [PagerDuty Runbook Automation Self-Hosted / Rundeck Key Pair Misconfiguration](/main/docs/pagerduty-rundeck-automation-self-hosted-key-pair-misconfiguration)
* [Security Hygiene for the Current Cyber Threat Landscape](/main/docs/security-hygiene-for-the-current-cyber-threat-landscape)
* [Sisense Compromise](/main/docs/sisense-compromise)

Support
-------

* [Support Portal FAQ](/main/docs/support-portal-faq)

PagerDuty Agent Integration Guide
=================================

The PagerDuty Agent is a helper program that can be installed on your monitoring system to integrate your monitoring tools with PagerDuty. The Agent also includes command line tools to accept events from your monitoring system and a daemon process that handles the sending of these events to PagerDuty. The daemon process takes care of buffering, retrying & throttling of events to PagerDuty. The supported events are those listed in the [PagerDuty Events API documentation](https://developer.pagerduty.com/docs/ZG9jOjExMDI5NTgw-events-api-v2-overview).

System Requirements
===================

The PagerDuty Agent is currently available in `deb` and `rpm` package formats and supported on Ubuntu 12.04, 14.04, and 16.04, as well as CentOS 6.

The Agent does not run on CentOS 5 or lower, as it requires a newer version of Python than the version included with CentOS 5. Please use the [Perl-based integration for Nagios](https://www.pagerduty.com/docs/guides/nagios-perl-integration-guide/) or older [Python-based integration for Zabbix](https://pagerduty.com/docs/guides/zabbix-integration-guide-agentless/) on older CentOS systems.

The PagerDuty Agent requires Python 2.7 or higher, but Python 3 is recommended. Regardless of version, it is necessary that the Python binary be accessible via `python`; to verify this, run the following command:

Shell
```
which python

```

If no python is found, run the following command to create a symlink:

Shell
```
sudo ln -fs $(which python3) /usr/bin/python

```

Integration Walkthrough
=======================

Create a Generic API Service in PagerDuty
-----------------------------------------

The Agent supports sending events to "Generic API" services if you're building a custom integration using the PagerDuty Agent. If you do not have a Generic API service set up, you can create one as follows:

1. Follow our instructions to [create a new service](/main/docs/services-and-integrations#create-a-service) and select **Events API V2** for the Integration Type in Step 5.
2. Once the service has been created, you'll be taken to the Integrations page. In the integration's details you will see the **Integration Key**, which you will need when you send events to PagerDuty via the Agent's command line tools.

> 🚧 Integration Key Requirements
> ------------------------------
> 
> Not all integration types and integration keys are compatible with the Events API. You must select **Events API V2** as the Integration Type to guarantee compatibility with our API when testing your integration or when using the `pd-send` command.

Agent Source, Installation and Updates
--------------------------------------

The PagerDuty Agent is open source (as are its integrations) and can be found on [GitHub](https://github.com/PagerDuty/pdagent), but most users will simply want to install the Agent from our `apt` or `yum` repositories as described below.

Once you have the Agent installed, it's important to remember to update the Agent packages regularly to ensure that you have the latest fixes. Depending on your Linux distribution, you can keep your Agent packages up to date with the following steps:

* [Ubuntu](#ubuntu)
* [CentOS](#centos)

### Ubuntu

1. If you do not already have the `apt-transport-https` package, please install it first:

Shell
```
sudo apt-get install apt-transport-https

```

2. Add the PagerDuty repository to your system:

Shell
```
wget -O - https://packages.pagerduty.com/GPG-KEY-pagerduty | sudo apt-key add -
sudo sh -c 'echo "deb https://packages.pagerduty.com/pdagent deb/" >/etc/apt/sources.list.d/pdagent.list'

```
> 🚧 Deprecation Guidance
> ----------------------
> 
> Please note that `apt-key` may be deprecated on some newer versions of Ubuntu and Debian. For more information and guidance, please reference the [manual page](https://manpages.debian.org/testing/apt/apt-key.8.en.html#DEPRECATION) from Debian.

3. Install (or update) the PagerDuty Agent packages:

Text
```
sudo apt-get update
sudo apt-get install pdagent pdagent-integrations

```
### CentOS

**Note**: The PagerDuty Agent is not compatible with CentOS 5 or lower, so the installation will not succeed on CentOS 5.

1. Add the PagerDuty repository to your system:

Shell
```
sudo sh -c 'cat >/etc/yum.repos.d/pdagent.repo <<EOF
[pdagent]
name=PDAgent
baseurl=https://packages.pagerduty.com/pdagent/rpm
enabled=1
gpgcheck=1
gpgkey=https://packages.pagerduty.com/GPG-KEY-RPM-pagerduty
EOF'

```

2. Install the PagerDuty Agent packages:

Shell
```
sudo yum install pdagent pdagent-integrations

```

3. Update just the Agent the packages:

Shell
```
sudo yum update pdagent pdagent-integrations

```

4. Copy the `pdagent.service` file from `/var/lib/pdagent/scripts/pdagent.service` to `/etc/systemd/system/pdagent.service`:

Shell
```
cp /var/lib/pdagent/scripts/pdagent.service /etc/systemd/system/pdagent.service

```

5. Reload the systemctl daemon to refresh the `systemctl` service:

Shell
```
systemctl daemon-reload

```

Verify the Agent is Running
---------------------------

After installing the Agent, run the following command to start the agent: `systemctl start pdagent.service`. You can use the `systemctl` (for systemd-based systems, like Ubuntu 16.04) or `service` (for SysV init-based systems, like Ubuntu 14.04) command to start, stop, and check the status of the Agent.

**systemd example**:

Shell
```
sudo systemctl start pdagent 
sudo systemctl status pdagent

```

**SysV init example**:

Shell
```
sudo service pdagent start
sudo service pdagent status

```

If the daemon is not running and will not start, check `/var/log/pdagent/pdagentd.log` for errors.

Send an Event to PagerDuty
==========================

To send an event to PagerDuty, you can use the `pd-send` command. This command enqueues the event on the local disk. The Agent daemon will take care of actually sending the event to the PagerDuty Integration API.

> 🚧 Stopped Service Limitations
> -----------------------------
> 
> If the `pdagentd` service is stopped, events will not be sent to PagerDuty until the service is started again.

Using the `-h` or `--help` option will return usage information:

Shell
```
$ pd-send --help
usage: pd-send [-h] -k SERVICE_KEY -t {trigger,acknowledge,resolve}
 [-d DESCRIPTION] [-i INCIDENT_KEY] [-f FIELDS]`

`Queue up a trigger, acknowledge or resolve event to PagerDuty.
...

```

The `SERVICE_KEY` above is the **Integration Key** that is shown on the service's **Integrations** tab in the PagerDuty web app.

Here's an example command that would trigger an incident in PagerDuty if your service's integration key was `65d9cd0e14c04dae8ef86867277d138c`:

Shell
```
$ export PD_SERVICE_KEY=65d9cd0e14c04dae8ef86867277d138c
$ pd-send -k $PD_SERVICE_KEY -t trigger -d "Server is on fire" -i server.fire
Event processed. Incident Key: server.fire

```

Here is an example command that triggers an incident in PagerDuty with multiple fields (key/value pairs). Note that `-f` is used before each pair:

Shell
```
$ export PD_SERVICE_KEY=65d9cd0e14c04dae8ef86867277d138c
$ pd-send -k $PD_SERVICE_KEY -t trigger -d "Server is on fire" -i server.fire -f MSG1=TEST1 -f MSG2=TEST2

```
> 🚧 Integration Key
> -----------------
> 
> If copying this example, remember to substitute your service’s integration key for `PD_SERVICE_KEY`.

> 📘 User Permissions
> ------------------
> 
> The user that runs `pd-send` and other `pd-*` integration scripts should preferably have a umask that allows world-readability of files that the user creates (i.e., 022). If the umask is more restrictive, the `pd-*` script changes the umask internally (only for itself) so enqueue-event files are created with the correct permissions.

Manage the Queue
================

To check the queue of outgoing alerts you can use the `pd-queue` command. This command can be used to get a quick idea of the queue status, and to retry events for an integration key. Note that the command needs to be run as root so as to gain access to directories owned by the `pdagent` user (i.e., `sudo pd-queue status`).

The following commands are available to help manage the queue:

* [pd-queue -h](#pd-queue--h)
* [pd-queue status](#pd-queue-status)
* [pd-queue retry](#pd-queue-retry)

pd-queue -h
-----------

Shell
```
$ pd-queue -h
usage: pd-queue [-h] {status,retry} ...

Access local queue of PagerDuty Agent.

optional arguments:
  -h, --help      show this help message and exit

sub-commands:
  {status,retry}
    retry         set up 'dead' PagerDuty events for retry.
    status        print out status of local event queue.

```

pd-queue status
---------------

Displays the pending, successful and in-error events in the Agent queue currently, as a table keyed by service key.

Shell
```
$ pd-queue status -h
usage: pd-queue status [-h] [-k SERVICE_KEY]

Print out status of local event queue.

optional arguments:
  -h, --help            show this help message and exit
  -k SERVICE_KEY, --service-key SERVICE_KEY
                        print status of events in given Service API Key

$ pd-queue status
Service Key                           Pending   Success  In Error
=================================================================
key1                                        1         0         0
key2                                        1         0         1

$ pd-queue status -k key2
Service Key                           Pending   Success  In Error
=================================================================
key2                                        1         0         1

```

pd-queue retry
--------------

Moves events in error-state to pending state en mass for a specified integration key. Hopefully, the user has corrected any user-induced problems that caused the errors in the first place, so trying the events again will not result in errors. For example, if the event was too long, the user has edited the event to reduce its length. If an event results in an error again, it will be moved to an error state again.

Shell
```
$ pd-queue retry -h
usage: pd-queue retry [-h] [-k SERVICE_KEY] [-a]

Set up 'dead' pagerduty events for retry.

optional arguments:
  -h, --help            show this help message and exit
  -k SERVICE_KEY, --service-key SERVICE_KEY
                        retry events in given Service API Key (not to be used
                        with -a)
  -a, --all-keys        retry events in all Service API Keys (not to be used
                        with -k)

$ pd-queue retry -k key2
1 events set up for retry.

$ pd-queue retry -a
0 event(s) set up for retry.

```

Integrate with Monitoring Tools
===============================

The PagerDuty Agent includes scripts to help you integrate with some common monitoring tools. Please see the appropriate guide for more details:

* [Nagios Integration Guide](https://pagerduty.com/docs/guides/nagios-integration-guide/)
* [Zabbix Integration Guide](https://www.zabbix.com/integrations/pagerduty)

Using a Proxy
=============

If your environment requires a proxy to be set for outbound HTTP/HTTPS connections, you can specify proxy configuration by editing `/lib/systemd/system/pdagent.service` (on [systemd-based systems](#systemd-based-systems)) or `/etc/init.d/pdagent` (on [SysV init-based systems](#sysv-init-based-systems)) as the root user.

> 📘 Restart the Agent
> -------------------
> 
> After adjusting the proxy configuration, be sure to restart the PagerDuty Agent with the command `systemctl restart pdagent`.

systemd-based Systems
---------------------

Shell
```
sudo nano /lib/systemd/system/pdagent.service

```

Simply add in two lines, replacing the URL with your proxy information, after the `ExecStartPre=/bin/chown -R pdagent:pdagent /var/run/pdagent` line which is approximately line #8. It should look like the following once completed:

Shell
```
ExecStartPre=/bin/chown -R pdagent:pdagent /var/run/pdagent
Environment="http_proxy=http://proxy:3128/"
Environment="https_proxy=http://proxy:3128/"

```

SysV init-based Systems
-----------------------

Shell
```
sudo nano /etc/init.d/pdagent

```

Simply add in two lines, replacing the URL with your proxy information, after the `PID_FILE=$PID_DIR/pdagentd.pid` line which is approximately line #48. It should look like the following once completed.

Shell
```
PID_FILE=$PID_DIR/pdagentd.pid

export http_proxy=http://proxy:3128/
export https_proxy=http://proxy:3128/

```

Updated 6 months ago

---

Learn more

* [PagerDuty Agent Troubleshooting Guide](/main/docs/pagerduty-agent-troubleshooting-guide)

* [Table of Contents](#)
* + [System Requirements](#system-requirements)
  + [Integration Walkthrough](#integration-walkthrough)
    - [Create a Generic API Service in PagerDuty](#create-a-generic-api-service-in-pagerduty)
    - [Agent Source, Installation and Updates](#agent-source-installation-and-updates)
    - [Verify the Agent is Running](#verify-the-agent-is-running)
  + [Send an Event to PagerDuty](#send-an-event-to-pagerduty)
  + [Manage the Queue](#manage-the-queue)
    - [pd-queue -h](#pd-queue--h)
    - [pd-queue status](#pd-queue-status)
    - [pd-queue retry](#pd-queue-retry)
  + [Integrate with Monitoring Tools](#integrate-with-monitoring-tools)
  + [Using a Proxy](#using-a-proxy)
    - [systemd-based Systems](#systemd-based-systems)
    - [SysV init-based Systems](#sysv-init-based-systems)
